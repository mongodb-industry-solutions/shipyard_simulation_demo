env:
  NODE_ENV: staging
  # Backend API URL for frontend to connect to backend health check - get <service-name> using kubectl get services
  BACKEND_HOST: http://localhost:8008

## Single Pod Containers
envSecrets:
  # MongoDB Configuration
  MONGO_URI: shipyard-digital-twin

## should be used in case of multiple sidecar containers
sidecarContainers:
  - name: backend
    image: 275662791714.dkr.ecr.us-east-1.amazonaws.com/shipyard-simulation-demo-backend:latest
    env:
      # MongoDB connection (from Kubernetes secret)
      - name: MONGO_URI
        valueFrom:
          secretKeyRef:
            name: shipyard-digital-twin
            key: MONGO_URI

## ----------------------------- Cloud Specific Configurations -----------------------------

# Add IRSA configuration here, role here gives access to bedrock, s3, aws secrets manager
serviceAccount:
  enabled: true
  irsa:
    accountId: "275662791714"
    roleName: "kanopy-staging-cicd-irsa"
